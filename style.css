/* style.css */
:root {
    --gold: #FFD700;
    --dark-bg: #1a1a1a;
    --mystical-purple: #8A2BE2; /* 紫罗兰 */
    --mystical-blue: #4B0082;   /* 靛蓝 */
    --mystical-indigo: #483D8B; /* 暗青蓝 */
    --mystical-green: #006400;
    --mystical-red: #8B0000;
    --mystical-black: #000000;
    /* 定义文字叠加效果变量 */
    --splash-text-gradient-new: linear-gradient(135deg, var(--gold) 15%, var(--mystical-purple) 50%, var(--mystical-indigo) 85%);
    --splash-text-shadow-new: 0 0 6px rgba(255, 215, 0, 0.6), 0 0 12px rgba(75, 0, 130, 0.5), 0 0 18px rgba(72, 61, 139, 0.4);
    
    /* New variables for redesigned preview modal */
    --preview-modal-bg: #1f1d2b; /* Deep mystical blue/purple */
    --preview-modal-border: rgba(220, 180, 130, 0.6); /* Softer gold/bronze border */
    --preview-modal-shadow: 0 8px 30px rgba(0,0,0,0.6);
    --preview-text-color: #d8c8e8; /* Light lavender text */
    --preview-highlight-color: var(--gold);

    /* Button specific colors for better accessibility and distinction */
    --draw-button-bg-start: #d4af37;
    --draw-button-bg-end: #c09526;
    --draw-button-shadow: rgba(212, 175, 55, 0.45);
    --share-button-bg-start: #5c4a9c; /* Deep mystical purple/blue */
    --share-button-bg-end: #423574;
    --share-button-shadow: rgba(70, 58, 122, 0.45);
    --button-text-color: #FFFFFF;
}

body {
    margin: 0;
    height: 100vh;
    overflow-x: hidden;
    background: var(--dark-bg);
    font-family: 'SimSun', 'Times New Roman', Times, serif; /* Base fonts */
    transition: background-color 1s ease;
}

/* 初始界面优化 */
#splash-screen {
    position: fixed;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center; /* 水平居中图片 */
    align-items: center; /* 垂直居中图片 */
    background: radial-gradient(circle at center, #090818 0%, #000000 100%);
    transition: opacity 0.8s ease;
    flex-direction: column;
    overflow: hidden;
    z-index: 30;
    padding-top: 50px; /* 为顶部语言切换器留出空间 */
    box-sizing: border-box;
}

#splash-screen::before,
#splash-screen::after {
    content: ''; position: absolute; width: 150px; height: 150px;
    border-radius: 50%; filter: blur(50px); opacity: 0.2;
    animation: float 15s infinite alternate ease-in-out; z-index: 1;
}
#splash-screen::before { background: radial-gradient(circle, #8A2BE2, transparent 70%); top: 20%; left: 20%; animation-delay: 0s; }
#splash-screen::after { background: radial-gradient(circle, #4B0082, transparent 70%); bottom: 20%; right: 20%; animation-delay: -5s; }

.responsive-image {
    width: auto; height: auto; max-width: 85%; max-height: 75%;
    object-fit: contain; position: relative; z-index: 3;
    border-radius: 15px;
    box-shadow: 0 0 30px 10px rgba(255, 215, 0, 0.4), 0 0 60px 15px rgba(128, 0, 128, 0.2);
    animation: image-glow 3s infinite alternate ease-in-out;
    margin-top: 2vh; margin-bottom: 5vh;
}

/* --- 文字叠加层样式 --- */
#splash-text-overlay {
    position: absolute;
    top: 32%; /* 默认(大屏幕)定位，稍微下移 */
    left: 50%;
    transform: translate(-50%, -50%); /* 使用中心点定位 */
    z-index: 4;
    width: 85%;
    max-width: 550px;
    padding: 5px 0; /* 调整垂直padding */
    box-sizing: border-box;
    text-align: center;
    pointer-events: none;
    font-size: clamp(2rem, 7vw, 3.6rem); /* 调整字体大小范围 */
    font-weight: bold;
    line-height: 1.25;
    letter-spacing: 1px;
    word-break: break-word; /* 确保换行 */

    background: var(--splash-text-gradient-new);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: var(--splash-text-shadow-new);

    opacity: 1;
    filter: blur(0);
    /* 移除 transition，使用 animation */
    display: flex; /* For snowflake chars to be inline-block and centered if needed */
    justify-content: center;
    align-items: center;
    flex-wrap: wrap; /* Allow characters to wrap if text is very long */
}

/* Individual character styling for snowflake effect */
.snowflake-char {
    display: inline-block; /* Allows transform and maintains flow */
    position: relative; /* For z-index and potentially pseudo-elements later */
    color: transparent; /* Initially inherit text-fill-color from parent for gradient */
    background: var(--splash-text-gradient-new); /* Apply gradient to each char */
    -webkit-background-clip: text;
    background-clip: text;
    text-shadow: var(--splash-text-shadow-new); /* Apply shadow to each char */
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    letter-spacing: inherit;
    opacity: 1;
    animation: फॉलAndFade var(--random-duration, 1s) var(--random-delay, 0s) ease-out forwards;
    /* Use custom properties for randomization from JS */
}

@keyframes फॉलAndFade {
    0% {
        opacity: 1;
        transform: translate(0, 0) rotate(0deg) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(var(--random-x-end), var(--random-y-end)) rotate(var(--random-rotate-end)) scale(0.5);
        filter: blur(3px);
    }
}

/* 定义文字进入动画 */
@keyframes textEnter {
  0% {
    opacity: 0;
    transform: translate(-50%, -40%) scale(1.2) rotateX(-20deg);
    filter: blur(5px);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%); /* 结束于标准位置 */
    filter: blur(0);
  }
}

/* 定义文字退出动画 */
@keyframes textExit {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -65%) scale(0.7) rotateX(40deg);
    filter: blur(6px);
  }
}

/* 用于触发进入动画的类 */
#splash-text-overlay.text-enter-active {
   animation: textEnter 0.7s ease-out forwards;
}

/* 用于触发退出动画的类 */
#splash-text-overlay.text-exit-active {
   animation: textExit 0.7s ease-in forwards;
}

/* 针对中文加粗 */
html[lang="zh"] #splash-text-overlay {
    font-weight: bolder;
    letter-spacing: 3px;
}

/* 针对英文调整样式 */
html[lang="en"] #splash-text-overlay {
    font-size: clamp(1.6rem, 6vw, 3.2rem); /* 英文进一步调整 */
    line-height: 1.2;
}

.splash-overlay { display: none; }

#sun-area {
    position: absolute; width: 16vw; height: 16vw; min-width: 60px; min-height: 60px;
    bottom: 5vh; left: 50%; transform: translateX(-50%); cursor: pointer;
    border-radius: 50%; touch-action: manipulation; z-index: 20;
    box-shadow: 0 0 20px 8px rgba(255, 215, 0, 0.5);
    background: radial-gradient(circle, rgba(255, 215, 0, 0.3), transparent 70%);
    animation: pulse-area 2s infinite alternate;
}
#sun-area::after { content: ''; position: absolute; width: 120%; height: 120%; top: -10%; left: -10%; border-radius: 50%; border: 1.5px solid rgba(255, 215, 0, 0.3); animation: rotate 15s linear infinite; }
#sun-area::before { content: ''; position: absolute; width: 100%; top: 50%; left: 50%; transform: translate(-50%, -50%); color: rgba(255, 215, 0, 0.8); font-size: 14px; text-align: center; opacity: 0; transition: opacity 0.5s; }
#sun-area:hover::before { opacity: 1; }

@keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
@keyframes pulse-area { 0% { box-shadow: 0 0 20px 8px rgba(255, 215, 0, 0.5); transform: translateX(-50%) scale(1); } 100% { box-shadow: 0 0 30px 10px rgba(255, 215, 0, 0.7); transform: translateX(-50%) scale(1.05); } }
@keyframes image-glow { 0% { box-shadow: 0 0 25px 8px rgba(255, 215, 0, 0.3), 0 0 50px 12px rgba(128, 0, 128, 0.2); } 100% { box-shadow: 0 0 40px 12px rgba(255, 215, 0, 0.5), 0 0 80px 20px rgba(128, 0, 128, 0.3); } }

/* Language Switcher Styles */
.lang-switcher { text-align: center; z-index: 100; }
.splash-lang-switcher {
    position: absolute;
    top: 50px;
    right: 20px;
    transform: none;
    padding: 5px 8px;
    background-color: rgba(0,0,0,0.5);
    border-radius: 12px;
    display: flex;
    gap: 8px;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
    backdrop-filter: blur(3px);
    border: 1px solid rgba(255, 215, 0, 0.3);
    transition: all 0.3s ease;
    animation: lang-switcher-glow 3s infinite alternate;
}

@keyframes lang-switcher-glow {
    0% {
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }
    100% {
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.5), 0 0 35px rgba(128, 0, 128, 0.3);
    }
}

.splash-lang-switcher:hover {
    box-shadow: 0 0 25px rgba(255, 215, 0, 0.6), 0 0 40px rgba(128, 0, 128, 0.4);
    background-color: rgba(0,0,0,0.7);
    transform: translateY(-3px);
}

.lang-btn {
    background: rgba(255, 215, 0, 0.15);
    border: 1px solid var(--gold);
    color: var(--gold);
    padding: 8px 15px;
    margin: 0;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.95rem;
    font-weight: bold;
    font-family: inherit;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    min-width: 55px;
    text-align: center;
    line-height: 1.2;
    position: relative;
    overflow: hidden;
    text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
}

/* 添加光效线条 */
.splash-lang-switcher::after {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(255,215,0,0.8) 0%, transparent 50%, rgba(255,215,0,0.8) 100%);
    opacity: 0.3;
    z-index: -1;
    animation: rotate-border 10s linear infinite;
}

@keyframes rotate-border {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.lang-btn::before {
    content: '';
    position: absolute;
    top: -100%;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, rgba(255,215,0,0.3), transparent);
    transition: top 0.3s ease;
}
.lang-btn:hover {
    background: rgba(255, 215, 0, 0.25);
    box-shadow: 0 3px 8px rgba(0,0,0,0.4);
    transform: translateY(-2px);
}
.lang-btn:hover::before {
    top: 0;
}
.lang-btn.active {
    background: linear-gradient(45deg, rgba(255,215,0,0.8), rgba(255,165,0,0.8));
    color: #000;
    font-weight: bold;
    box-shadow: 0 0 10px rgba(255,215,0,0.7);
    text-shadow: 0 1px 1px rgba(255,255,255,0.3);
    position: relative;
    overflow: hidden;
}

.lang-btn.active::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, rgba(255,255,255,0.8) 0%, transparent 70%);
    opacity: 0;
    animation: btn-pulse 2s infinite;
}

@keyframes btn-pulse {
    0% {
        opacity: 0;
        transform: scale(0.1);
    }
    50% {
        opacity: 0.5;
    }
    100% {
        opacity: 0;
        transform: scale(1.5);
    }
}

.lang-btn:active {
    transform: scale(0.95);
    box-shadow: 0 0 5px rgba(255,215,0,0.5);
}

/* 主页面样式 */
#main-content { width: 100%; min-height: 100vh; padding: 20px; box-sizing: border-box; transition: opacity 1s ease, background-color 1s ease; position: relative; overflow-y: auto; z-index: 20; }
.container { max-width: 600px; margin: 0 auto; position: relative; z-index: 10; display: flex; flex-direction: column; min-height: calc(100vh - 40px); padding: 20px; box-sizing: border-box; justify-content: flex-start; }
.title { color: var(--gold); text-align: center; font-size: 2rem; margin: 0 0 15px 0; text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); letter-spacing: 4px; font-weight: bold; word-break: break-word; }
.result-box { background: rgba(0, 0, 0, 0.7); border: 2px solid var(--gold); border-radius: 12px; padding: 15px; min-height: 25vh; margin: 10px 0 15px 0; color: #fff; font-size: 0.95rem; line-height: 1.4; box-shadow: 0 0 20px rgba(255, 215, 0, 0.3); backdrop-filter: blur(4px); transition: all 0.5s ease; overflow-y: auto; flex-shrink: 0; }
.action-buttons { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin: 15px 0 10px 0; }
.action-btn { padding: 0; background: rgba(0, 0, 0, 0.6); border: 1px solid var(--gold); border-radius: 10px; color: var(--gold); cursor: pointer; font-size: 1rem; transition: all 0.3s ease; position: relative; overflow: hidden; z-index: 1; display: flex; align-items: center; justify-content: center; min-height: 45px; }
.action-btn span { display: inline-block; padding: 10px 5px; text-align: center; line-height: 1.2; word-break: break-word; }
.action-btn::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 0; background: rgba(255, 215, 0, 0.15); transition: height 0.3s ease; z-index: -1; border-radius: 9px; }
.action-btn:hover::after { height: 100%; }

/* Main Action Buttons Container */
.main-action-buttons-container {
    display: flex;
    gap: 10px; 
    margin: 10px 0 8px 0;
    flex-shrink: 0;
}

/* General styles for both draw and share buttons */
.draw-button, .share-button {
    flex: 1; 
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 8px;
    border: none; 
    border-radius: 50px;
    color: var(--button-text-color); 
    font-size: 1.2rem; 
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.3s, background-color 0.3s;
    touch-action: manipulation;
    position: relative;
    overflow: hidden;
    line-height: 1.3;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.2); 
}

/* Specific style for Draw Button (另求一签) */
.draw-button {
    background: linear-gradient(45deg, var(--draw-button-bg-start), var(--draw-button-bg-end));
    box-shadow: 0 5px 15px var(--draw-button-shadow);
}

/* Specific style for Share Button (保存本签) */
.share-button {
    background: linear-gradient(45deg, var(--share-button-bg-start), var(--share-button-bg-end));
    box-shadow: 0 5px 15px var(--share-button-shadow);
}


.draw-button span[data-lang-key], .share-button span[data-lang-key] {
    word-break: break-word;
}
.draw-button::before, .share-button::before { 
    content: '';
    position: absolute;
    top: 0;
    left: -120%; 
    width: 80%; 
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.7s ease-in-out; 
}
.draw-button:hover::before, .share-button:hover::before {
    left: 120%; 
}


/* --- Image Preview Modal Redesign --- */
#image-preview-modal { 
    background: rgba(10, 9, 16, 0.92); /* Slightly more opaque for better focus */
    backdrop-filter: blur(12px); /* Increase blur */
}

.preview-modal-content { 
    background: var(--preview-modal-bg); 
    border: 2px solid var(--preview-modal-border); /* Slightly thicker border */
    box-shadow: var(--preview-modal-shadow),
                inset 0 0 25px rgba(var(--preview-highlight-color), 0.15); /* Enhanced Inner glow */
    border-radius: 16px; /* More rounded */
    max-height: 95vh; 
    width: 90%;
    max-width: 540px; /* Adjusted max-width */
    padding: 20px; 
    display: flex;
    flex-direction: column;
}

.preview-modal-header {
    border-bottom: 1px solid rgba(var(--preview-highlight-color), 0.35); /* More visible border */
    padding-bottom: 15px; /* More padding */
    margin-bottom: 20px; 
    position: relative; 
    text-align: center; 
}

#image-preview-modal .modal-title { 
    font-size: 1.45rem; /* Larger title */
    color: var(--preview-highlight-color);
    text-shadow: 0 0 15px rgba(var(--preview-highlight-color), 0.75); /* Stronger text shadow */
    font-weight: bold;
}

#image-preview-modal .close-modal {
    color: var(--preview-highlight-color);
    opacity: 0.8; 
    font-size: 2.6rem; /* Larger close button */
    transition: opacity 0.2s, transform 0.25s ease-out; /* Smoother transition */
    position: absolute; 
    top: 10px; 
    right: 12px;
    line-height: 0.5; 
    padding: 5px; /* Clickable area */
}
#image-preview-modal .close-modal:hover {
    opacity: 1;
    transform: scale(1.1) rotate(90deg); /* Add a little rotation on hover */
}

.preview-modal-body {
    padding: 0; 
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between; /* Distribute space: image at top, instruction at bottom */
    flex-grow: 1; 
    overflow: hidden; 
}

.image-container-wrapper {
    width: calc(100% - 10px); /* Slightly less than full width to show modal bg */
    margin: 0 auto 15px auto; /* Adjusted margin */
    padding: 8px; 
    background-color: rgba(10, 9, 16, 0.6); /* Darker, more translucent frame */
    border: 1px solid rgba(var(--preview-modal-border), 0.6); /* More visible border */
    border-radius: 10px; 
    box-shadow: inset 0 0 12px rgba(0,0,0,0.35), 0 2px 5px rgba(0,0,0,0.2); /* Enhanced shadow */
    display: flex; 
    justify-content: center;
    align-items: center;
    flex-shrink: 0; /* Allow it to take space but not shrink excessively */
    min-height: 300px; /* Ensure a minimum height for the image area */
}

#preview-image {
    display: block; 
    max-width: 100%; 
    max-height: calc(95vh - 230px); /* Adjusted to ensure no scroll, accounting for header, padding, instruction */
    object-fit: contain;
    border-radius: 6px; 
    box-shadow: 0 5px 20px rgba(0,0,0,0.4); 
    border: 2px solid rgba(255,255,255,0.2); /* Lighter border on image */
}

.preview-instruction-area {
    text-align: center;
    width: 100%;
    padding: 15px 0 5px 0; /* More padding top */
    margin-top: auto; 
    flex-shrink: 0;
}

.long-press-instruction {
    color: var(--preview-highlight-color); 
    font-size: 0.95rem; /* Slightly larger */
    font-weight: 600; 
    padding: 10px 22px; /* More padding for better touch target */
    background: linear-gradient(145deg, rgba(var(--preview-highlight-color), 0.15), rgba(var(--preview-highlight-color), 0.28));
    border: 1px solid rgba(var(--preview-highlight-color), 0.7); 
    border-radius: 25px; 
    display: inline-block;
    line-height: 1.45;
    box-shadow: 0 3px 8px rgba(0,0,0,0.3), 0 0 18px rgba(var(--preview-highlight-color),0.35);
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    animation: instruction-refined-pulse 2.5s infinite cubic-bezier(0.4, 0, 0.2, 1); /* Refined easing */
}

@keyframes instruction-refined-pulse { /* More subtle and elegant pulse */
    0%, 100% { 
        transform: scale(1); 
        box-shadow: 0 3px 8px rgba(0,0,0,0.2), 0 0 18px rgba(var(--preview-highlight-color),0.35);
        opacity: 0.9; 
    }
    50% { 
        transform: scale(1.04); /* Slightly more scale */
        box-shadow: 0 6px 15px rgba(0,0,0,0.3), 0 0 28px rgba(var(--preview-highlight-color),0.55); /* Enhanced shadow */
        opacity: 1; 
    }
}


/* Responsive adjustments for the redesigned preview modal */
@media (max-width: 480px) {
    .preview-modal-content {
        padding: 15px; 
        max-width: calc(100% - 20px); 
    }
     .preview-modal-header {
        padding-bottom: 10px;
        margin-bottom: 15px;
    }
    #image-preview-modal .modal-title {
        font-size: 1.2rem;
    }
    .image-container-wrapper {
        margin-bottom: 12px; /* Adjust spacing */
        padding: 5px;
    }
    #preview-image {
        max-height: calc(90vh - 170px); 
    }
    .long-press-instruction {
        font-size: 0.88rem; /* Adjusted size */
        padding: 9px 18px; /* Adjusted padding */
    }
}


/* General Modal Styles (from original, might need minor adjustments if conflicting) */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(10, 9, 16, 0.92); 
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    backdrop-filter: blur(12px); 
    opacity: 1; 
    transition: opacity 0.3s ease-in-out, visibility 0s linear; 
}
.modal.hidden {
    opacity: 0 !important;
    pointer-events: none !important;
    visibility: hidden !important;
    transition: opacity 0.3s ease-in-out, visibility 0s linear 0.3s !important; 
}

.modal-content:not(.preview-modal-content):not(.input-modal-content) { 
    background: rgba(20, 20, 20, 0.95); 
    border-radius: 15px; 
    padding: 20px; 
    width: 90%; 
    max-width: 600px; 
    max-height: 85vh; 
    position: relative; 
    border: 2px solid var(--gold); 
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.4); 
    display: flex; 
    flex-direction: column; 
}
.modal-header:not(.preview-modal-header):not(.input-modal-header) {
    display: flex; justify-content: center; align-items: center; position: relative; padding: 15px 15px; z-index: 2; border-bottom: 1px solid rgba(255, 215, 0, 0.2); margin-bottom: 15px;
}
.modal-title:not(.input-modal-title) {
     color: var(--gold); text-align: center; margin: 0; font-size: 1.5rem; word-break: break-word; flex-grow: 1; padding: 0 30px; box-sizing: border-box;
}
.close-modal:not(.input-close-modal) { 
    position: absolute; top: 50%; right: 15px; transform: translateY(-50%); font-size: 1.8rem; color: var(--gold); cursor: pointer; line-height: 1; padding: 5px; z-index: 3;
}
.modal-body:not(.preview-modal-body):not(.input-modal-body) { 
    color: #fff; overflow-y: auto; padding-right: 5px; flex: 1;
}


/* ... rest of your existing CSS ... */

@media (max-width: 480px) {
    #splash-screen { padding-top: 55px; }
    .splash-lang-switcher {
        top: 40px;
        right: 15px;
        padding: 4px 6px;
        gap: 6px;
        border-radius: 10px;
    }
    .splash-lang-switcher::after {
        border-radius: 10px;
    }
    .lang-btn {
        padding: 6px 10px;
        font-size: 0.85rem;
        min-width: 45px;
        border-radius: 6px;
    }
    .responsive-image { max-width: 80%; max-height: 65%; margin-top: 1vh; margin-bottom: 3vh; }
    #sun-area { width: 20vw; height: 20vw; min-width: 60px; min-height: 60px; bottom: 4vh; }
    #splash-text-overlay {
        top: 30%; 
        transform: translate(-50%, -50%);
        font-size: clamp(1.6rem, 5.5vw, 2.6rem); 
        width: 80%; 
        max-width: 80%;
        padding: 5px 0;
        line-height: 1.15; 
    }
     html[lang="en"] #splash-text-overlay {
        top: 30%; 
        transform: translate(-50%, -50%);
        font-size: clamp(1.4rem, 5vw, 2.3rem); 
        line-height: 1.1;
    }

    #main-content { padding: 10px; }
    .container { padding: 15px 10px; min-height: calc(100vh - 20px); }
    .title { font-size: 1.6rem; margin-bottom: 10px; }
    .result-box { margin: 5px 0 10px 0; min-height: 35vh; }
    .ancient-prophecy p, .overall-fortune p { font-size: 0.9rem; line-height: 1.4; }
    .action-buttons { margin: 10px 0; gap: 8px; }
    .action-btn { min-height: 40px; font-size: 0.85rem; }
    .action-btn span { padding: 8px 3px; }

    .main-action-buttons-container {
        flex-direction: row; 
        gap: 8px;
    }
    .draw-button, .share-button {
        margin: 0;
        font-size: 1.1rem; 
        padding: 10px 5px;
    }

    #sun-area::before { font-size: 11px; }
     .category-item { padding: 10px; }
    .category-item h4 { font-size: 1rem; }
    .modal-section p { font-size: 0.95rem; }
     .mantra-controls { gap: 0.5rem; margin-bottom: 0.8rem; }
    .mantra-btn { padding: 0.5rem 0.4rem; font-size: 0.75rem; min-width: 70px; }
    .mantra-btn .btn-text { white-space: normal; word-break: break-word; }
     .share-text { font-size: 0.7rem; }
    .share-link-container { margin-top: 0.5rem; }
    .mantra-section { min-height: auto; padding-bottom: 10px; }
}

@media (min-width: 481px) and (max-width: 768px) { /* 平板 */
    .responsive-image { max-width: 85%; max-height: 70%; margin-top: 3vh; margin-bottom: 8vh; }
    #sun-area { width: 15vw; height: 15vw; min-width: 70px; min-height: 70px; bottom: 6vh; }
    .splash-lang-switcher {
        top: 50px;
        right: 25px;
        padding: 5px 7px;
    }
    #splash-text-overlay {
        top: 38%; 
        transform: translate(-50%, -50%);
        font-size: clamp(1.8rem, 6vw, 3.2rem); 
    }
    html[lang="en"] #splash-text-overlay {
        top: 40%; 
        transform: translate(-50%, -50%);
        font-size: clamp(1.6rem, 5.2vw, 2.8rem); 
    }
    .result-box { font-size: 1rem; max-height: 55vh; }
    .action-btn { font-size: 0.95rem; }
    .title { font-size: 1.8rem; }
    #preview-image {
        max-height: calc(90vh - 200px); /* Adjusted for tablets */
    }
}

/* General Hidden and Effects Styles */
.hidden {
    opacity: 0 !important;
    pointer-events: none !important;
    visibility: hidden !important; 
    transition: opacity 0.3s ease-in-out, visibility 0s linear 0.3s !important; 
    z-index: -1 !important;
}

@keyframes celestial-glow { 0% { box-shadow: 0 0 10px 5px rgba(255,215,0,0.4); } 50% { box-shadow: 0 0 25px 15px rgba(255,215,0,0.6); } 100% { box-shadow: 0 0 10px 5px rgba(255,215,0,0.4); } }
.sun-glow { animation: celestial-glow 1.5s infinite; position: relative; }
.sun-core { position: absolute; width: 100%; height: 100%; border-radius: 50%; background: radial-gradient(circle at 50% 50%, #FFEA00 10%, #FFAC33 30%, transparent 70%); filter: blur(5px); animation: core-pulse 2s ease-in-out infinite; }
.sun-glow::before, .sun-glow::after { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); border-radius: 50%; pointer-events: none; }
.sun-glow::before { width: 150%; height: 150%; background: radial-gradient(circle, rgba(255,214,0,0.4) 0%, rgba(255,109,0,0.2) 30%, transparent 70%); animation: glow-expand 2s infinite, hue-rotate 6s infinite; filter: blur(15px); }
.sun-glow::after { width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,94,0,0.3) 0%, rgba(255,136,0,0.1) 40%, transparent 70%); animation: glow-pulse 3s infinite; filter: blur(20px); }
.sun-burst { position: absolute; width: 100%; height: 100%; top: 0; left: 0; border-radius: 50%; background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,155,0.7) 20%, rgba(255,170,0,0.5) 40%, transparent 70%); animation: sun-burst 1s forwards; transform: scale(0); filter: blur(2px); }
@keyframes core-pulse { 0% { opacity: 0.7; transform: scale(0.95); } 50% { opacity: 1; transform: scale(1.05); } 100% { opacity: 0.7; transform: scale(0.95); } }
@keyframes glow-expand { 0%, 100% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.2); } }
@keyframes hue-rotate { 0% { filter: blur(15px) hue-rotate(0deg); } 100% { filter: blur(15px) hue-rotate(360deg); } }
@keyframes sun-burst { 0% { transform: scale(0); opacity: 1; } 50% { transform: scale(2); opacity: 0.8; } 100% { transform: scale(3); opacity: 0; } }
@keyframes glow-pulse { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.6; } }
.theme-very-lucky { background: linear-gradient(135deg, #000000, #1a0061); } .theme-very-lucky .title { color: #FFD700; text-shadow: 0 0 15px rgba(255, 215, 0, 0.8); } .theme-very-lucky .result-box { border-color: #FFD700; box-shadow: 0 0 30px rgba(255, 215, 0, 0.5); }
.theme-lucky { background: linear-gradient(135deg, #000000, #002366); } .theme-lucky .title { color: #C0C0C0; text-shadow: 0 0 15px rgba(192, 192, 192, 0.8); } .theme-lucky .result-box { border-color: #C0C0C0; box-shadow: 0 0 30px rgba(192, 192, 192, 0.5); }
.theme-neutral { background: linear-gradient(135deg, #000000, #004d00); } .theme-neutral .title { color: #ADFF2F; text-shadow: 0 0 15px rgba(173, 255, 47, 0.8); } .theme-neutral .result-box { border-color: #ADFF2F; box-shadow: 0 0 30px rgba(173, 255, 47, 0.5); }
.theme-unlucky { background: linear-gradient(135deg, #000000, #4d0000); } .theme-unlucky .title { color: #DC143C; text-shadow: 0 0 15px rgba(220, 20, 60, 0.8); } .theme-unlucky .result-box { border-color: #DC143C; box-shadow: 0 0 30px rgba(220, 20, 60, 0.5); }
.theme-very-unlucky { background: linear-gradient(135deg, #000000, #330033); } .theme-very-unlucky .title { color: #6A5ACD; text-shadow: 0 0 15px rgba(106, 90, 205, 0.8); } .theme-very-unlucky .result-box { border-color: #6A5ACD; box-shadow: 0 0 30px rgba(106, 90, 205, 0.5); }
.mystical-elements { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
.mystical-orb { position: absolute; width: 150px; height: 150px; border-radius: 50%; filter: blur(50px); opacity: 0.3; animation: float 15s infinite alternate ease-in-out; }
.top-left { top: 10%; left: 10%; background: radial-gradient(circle, var(--mystical-purple), transparent 70%); animation-delay: 0s; } .top-right { top: 15%; right: 10%; background: radial-gradient(circle, var(--mystical-blue), transparent 70%); animation-delay: -3s; } .bottom-left { bottom: 15%; left: 10%; background: radial-gradient(circle, var(--mystical-green), transparent 70%); animation-delay: -6s; } .bottom-right { bottom: 10%; right: 10%; background: radial-gradient(circle, var(--mystical-red), transparent 70%); animation-delay: -9s; }
@keyframes float { 0% { transform: translateY(0) translateX(0); } 50% { transform: translateY(-20px) translateX(20px); } 100% { transform: translateY(20px) translateX(-20px); } }
.theme-background { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2; overflow: hidden; }
.theme-bg-element { position: absolute; border-radius: 50%; opacity: 0.6; pointer-events: none; }
.anim-float-gold { background: radial-gradient(circle, #FFD700, transparent 80%); animation: float-element 15s infinite alternate ease-in-out; box-shadow: 0 0 20px rgba(255, 215, 0, 0.8); } .anim-float-silver { background: radial-gradient(circle, #C0C0C0, transparent 80%); animation: float-element 18s infinite alternate ease-in-out; box-shadow: 0 0 15px rgba(192, 192, 192, 0.7); } .anim-float { background: radial-gradient(circle, #ADFF2F, transparent 80%); animation: float-element 20s infinite alternate ease-in-out; box-shadow: 0 0 10px rgba(173, 255, 47, 0.6); } .anim-flicker { background: radial-gradient(circle, #DC143C, transparent 80%); animation: flicker 8s infinite alternate ease-in-out; box-shadow: 0 0 15px rgba(220, 20, 60, 0.7); } .anim-fade { background: radial-gradient(circle, #6A5ACD, transparent 80%); animation: fade 12s infinite alternate ease-in-out; box-shadow: 0 0 10px rgba(106, 90, 205, 0.6); }
@keyframes float-element { 0% { transform: translateY(0) translateX(0) rotate(0deg); } 33% { transform: translateY(-30px) translateX(20px) rotate(120deg); } 66% { transform: translateY(20px) translateX(-30px) rotate(240deg); } 100% { transform: translateY(10px) translateX(15px) rotate(360deg); } }
@keyframes flicker { 0%, 100% { opacity: 0.2; } 25% { opacity: 0.5; } 50% { opacity: 0.3; } 75% { opacity: 0.6; } }
@keyframes fade { 0% { opacity: 0.1; transform: scale(0.8); } 50% { opacity: 0.4; transform: scale(1.2); } 100% { opacity: 0.2; transform: scale(0.9); } }
.sign-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 1px solid rgba(255, 215, 0, 0.3); padding-bottom: 10px; flex-wrap: wrap; }
.sign-number { font-size: 1.2rem; margin: 0 5px 5px 0; color: #FFD700; word-break: keep-all; }
.luck-index { font-size: 1.1rem; margin: 0 0 5px 0; color: #FFD700; }
.ancient-prophecy, .overall-fortune, .summary { margin-bottom: 10px; } .ancient-prophecy h3, .overall-fortune h3, .summary h3 { color: #FFD700; margin: 5px 0; font-size: 1.1rem; } .ancient-prophecy p, .overall-fortune p { margin: 5px 0; line-height: 1.4; }

/* MODAL STYLES - GENERAL */
.modal-section { margin-bottom: 20px; position: relative; min-height: auto; }
.mantra-section { display: flex; flex-direction: column; gap: 1rem; padding: 0.5rem; padding-bottom: 1rem; }
.mantra-title { font-size: 1.4rem; margin: 0 0 0.5rem 0; text-align: center; font-weight: bold; color: #d4af37; word-break: break-word; }
.mantra-sanskrit { font-style: italic; background-color: rgba(255, 255, 255, 0.1); padding: 0.8rem; border-radius: 8px; margin: 0; line-height: 1.5; word-break: break-all; }
.mantra-meaning { margin: 0; line-height: 1.5; font-size: 0.95rem; }
.mantra-controls { display: flex; justify-content: center; margin-top: 1.2rem; margin-bottom: 1.2rem; gap: 1rem; flex-wrap: wrap; }
.mantra-btn { background-color: rgba(212, 175, 55, 0.2); border: 1px solid #d4af37; border-radius: 6px; color: #fff; font-size: 0.9rem; padding: 0.6rem 0.8rem; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem; flex: 1; min-width: 90px; text-align: center; }
.mantra-btn .btn-text { word-break: keep-all; white-space: nowrap; }
.mantra-btn:hover { background-color: rgba(212, 175, 55, 0.4); }
.random-btn { background-color: rgba(75, 0, 130, 0.2); border-color: #8a2be2; }
.random-btn:hover { background-color: rgba(75, 0, 130, 0.4); }
.share-link-container { margin-top: auto; padding-top: 0.5rem; text-align: center; width: 100%; box-sizing: border-box; }
.share-text { font-size: 0.8rem; color: rgba(255, 255, 255, 0.7); margin: 0; font-style: italic; background-color: transparent; padding: 0; border-radius: 0; text-align: center; word-break: break-word; }
.category-fortunes { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; }
.category-item { background: rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 12px; }
.category-item h4 { color: var(--gold); margin-top: 0; margin-bottom: 8px; font-size: 1.1rem; }
.lucky-tips-section { display: flex; flex-direction: column; gap: 1.5rem; }
.tips-container { background-color: rgba(255, 255, 255, 0.08); border-radius: 8px; padding: 1rem; }
.tips-container h4 { margin-top: 0; margin-bottom: 0.5rem; color: #d4af37; word-break: break-word; }
.tips-container p { margin: 0; line-height: 1.5; }
.action-btn:active { transform: scale(0.95); }
.draw-button:active, .share-button:active { transform: scale(0.95); }
.alert { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.9); color: var(--gold); padding: 12px 20px; border-radius: 8px; font-size: 1rem; z-index: 1001; text-align: center; border: 1px solid var(--gold); opacity: 0; transition: opacity 0.3s ease-in-out; max-width: 80%; line-height: 1.5; box-shadow: 0 0 15px rgba(255, 215, 0, 0.5); }
.qian-text { width: 100%; display: block; word-wrap: break-word; transition: opacity 0.8s ease; }
.loader-text { text-align: center; margin-top: 25px; color: var(--gold); font-size: 1.1rem; animation: text-glow 1.5s ease-in-out infinite; text-shadow: 0 0 10px rgba(255, 215, 0, 0.7); }
@keyframes text-glow { 0%, 100% { text-shadow: 0 0 5px rgba(255, 215, 0, 0.5); } 50% { text-shadow: 0 0 15px rgba(255, 215, 0, 1); } }
.extra-effects-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
.extra-theme-element { position: absolute; border-radius: 50%; opacity: 0.6; pointer-events: none; }
.gold-element { background: radial-gradient(circle, rgba(255, 215, 0, 0.9), transparent 70%); box-shadow: 0 0 15px rgba(255, 215, 0, 0.8); animation: float-shine 10s infinite alternate ease-in-out; }
.silver-element { background: radial-gradient(circle, rgba(192, 192, 192, 0.9), transparent 70%); box-shadow: 0 0 12px rgba(192, 192, 192, 0.7); animation: pulse-shine 8s infinite alternate ease-in-out; }
.green-element { background: radial-gradient(circle, rgba(173, 255, 47, 0.8), transparent 70%); box-shadow: 0 0 10px rgba(173, 255, 47, 0.6); animation: gentle-float 12s infinite alternate ease-in-out; }
.red-element { background: radial-gradient(circle, rgba(220, 20, 60, 0.7), transparent 70%); box-shadow: 0 0 8px rgba(220, 20, 60, 0.5); animation: flicker-pulse 6s infinite alternate ease-in-out; }
.purple-element { background: radial-gradient(circle, rgba(106, 90, 205, 0.7), transparent 70%); box-shadow: 0 0 10px rgba(106, 90, 205, 0.5); animation: slow-fade 15s infinite alternate ease-in-out; }
.box-very-lucky { border-color: #FFD700 !important; box-shadow: 0 0 30px rgba(255, 215, 0, 0.6) !important; }
.box-lucky { border-color: #C0C0C0 !important; box-shadow: 0 0 25px rgba(192, 192, 192, 0.6) !important; }
.box-neutral { border-color: #ADFF2F !important; box-shadow: 0 0 20px rgba(173, 255, 47, 0.6) !important; }
.box-unlucky { border-color: #DC143C !important; box-shadow: 0 0 20px rgba(220, 20, 60, 0.6) !important; }
.box-very-unlucky { border-color: #6A5ACD !important; box-shadow: 0 0 20px rgba(106, 90, 205, 0.6) !important; }
@keyframes float-shine { 0% { transform: translateY(0) scale(1); opacity: 0.7; } 50% { transform: translateY(-30px) scale(1.3); opacity: 1; } 100% { transform: translateY(20px) scale(0.8); opacity: 0.5; } }
@keyframes pulse-shine { 0% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(1.5); opacity: 0.9; } 100% { transform: scale(0.8); opacity: 0.4; } }
@keyframes gentle-float { 0% { transform: translateX(0) translateY(0); opacity: 0.5; } 50% { transform: translateX(20px) translateY(-10px); opacity: 0.8; } 100% { transform: translateX(-20px) translateY(10px); opacity: 0.5; } }
@keyframes flicker-pulse { 0%, 100% { opacity: 0.3; transform: scale(0.8); } 25% { opacity: 0.7; transform: scale(1.2); } 50% { opacity: 0.4; transform: scale(1); } 75% { opacity: 0.6; transform: scale(1.3); } }
@keyframes slow-fade { 0% { opacity: 0.2; transform: translateY(0) scale(1); filter: blur(2px); } 50% { opacity: 0.5; transform: translateY(-10px) scale(1.2); filter: blur(3px); } 100% { opacity: 0.3; transform: translateY(10px) scale(0.9); filter: blur(4px); } }
.splash-stars { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2; }
.splash-star { position: absolute; width: 2px; height: 2px; background-color: rgba(255, 255, 255, 0.8); border-radius: 50%; box-shadow: 0 0 3px 1px rgba(255, 215, 0, 0.5); animation: star-twinkle 3s infinite ease-in-out; }
@keyframes star-twinkle { 0%, 100% { opacity: 0.3; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.2); } }
#loading-screen { position: fixed; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; background: radial-gradient(circle at center, #090818 0%, #000000 100%); transition: opacity 1.2s ease; z-index: 25; overflow: hidden; }
.video-container { position: relative; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; overflow: hidden; }
.video-container video { width: 100%; height: 100%; object-fit: cover; display: block; border: none; touch-action: manipulation; }
.video-container img.loading-gif { width: 100%; height: 100%; object-fit: cover; display: block; border: none; touch-action: manipulation; }
.overlay-text {
    position: absolute;
    bottom: 50px;
    left: 15px;
    right: 15px;
    text-align: center;
    font-size: clamp(22px, 6vw, 52px);
    line-height: 1.4;
    font-family: "Xingkai SC", "华文行楷", "STXingkai", "楷体", "STKaiti", "KaiTi", "Microsoft YaHei", "微软雅黑", "PingFang SC", "苹方", "Heiti SC", "黑体-简", sans-serif;
    font-weight: normal;
    z-index: 10;
    box-sizing: border-box;
    pointer-events: none;
    transform: rotate(-2deg);
    animation: float-text-enhanced 5s infinite alternate ease-in-out;
    letter-spacing: 2px;
    background: none;

    /* 使用与初始页面相同的文字渐变效果 */
    background: var(--splash-text-gradient-new);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: var(--splash-text-shadow-new);
}

/* 移除之前的黑白文字阴影效果，让渐变文字效果更明显 */
@supports (-webkit-touch-callout: none) {
    .overlay-text {
        text-shadow: var(--splash-text-shadow-new);
        background: var(--splash-text-gradient-new);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent !important;
        -webkit-text-fill-color: transparent !important;
    }
}

/* 调整不同屏幕尺寸的样式 */
@media (max-width: 700px) {
    .overlay-text {
        font-size: clamp(28px, 5.5vw, 38px);
        line-height: 1.35;
        text-shadow: var(--splash-text-shadow-new);
        background: var(--splash-text-gradient-new);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
    }
}

@media (max-width: 480px) {
    .overlay-text {
        font-size: clamp(20px, 6vw, 28px);
        line-height: 1.3;
        letter-spacing: 1px;
        text-shadow: var(--splash-text-shadow-new);
    }
}

@media (max-width: 360px) {
    .overlay-text {
        font-size: clamp(18px, 6.5vw, 22px);
        letter-spacing: 0.5px;
        text-shadow: var(--splash-text-shadow-new);
    }
}

@keyframes subtle-glow { 0% { filter: brightness(1) blur(0); } 100% { filter: brightness(1.1) blur(0.5px); } }
#loading-screen::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; box-shadow: inset 0 0 100px 20px rgba(0, 0, 0, 0.7); pointer-events: none; z-index: 2; }
#loading-screen::after { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at center, transparent 60%, rgba(0, 0, 0, 0.6) 100%); pointer-events: none; z-index: 1; }
@keyframes float-text-enhanced { 0% { transform: rotate(-3deg) translateY(0) scale(1); filter: brightness(1); } 50% { transform: rotate(0deg) translateY(-8px) scale(1.03); filter: brightness(1.2); } 100% { transform: rotate(3deg) translateY(0) scale(1); filter: brightness(1); } }
#loading-screen.locked .overlay-text { color: rgba(255, 100, 100, 0.9); font-weight: bold; animation: warning-pulse 2s infinite; font-size: clamp(20px, 5vw, 40px); line-height: 1.3; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; }
@keyframes warning-pulse { 0% { opacity: 0.7; } 50% { opacity: 1; } 100% { opacity: 0.7; } }
#loading-screen.locked .loading-gif { filter: grayscale(50%) brightness(70%); }
html[lang="en"] body { font-family: 'Georgia', 'Times New Roman', Times, serif; }
html[lang="en"] .title, html[lang="en"] .action-btn span, html[lang="en"] .draw-button span[data-lang-key], html[lang="en"] .share-button span[data-lang-key], html[lang="en"] .modal-title, html[lang="en"] .category-item h4, html[lang="en"] .tips-container h4, html[lang="en"] .mantra-title, html[lang="en"] .mantra-btn .btn-text, html[lang="en"] .lang-btn { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; }
html[lang="en"] .overlay-text {
    font-family: 'Georgia', 'Times New Roman', Times, serif;
    letter-spacing: 1px;
    font-size: clamp(1.6rem, 6vw, 3.2rem); /* 英文文字调整大小 */
    line-height: 1.2;
}

@media (max-width: 480px) {
    html[lang="en"] .overlay-text {
        font-size: clamp(1.4rem, 5vw, 2.3rem); /* 英文在小屏幕上进一步调整 */
        line-height: 1.1;
    }
}

.action-btn, .draw-button, .share-button, .lang-btn, .mantra-btn { line-height: normal; }

/* 分享描述信息样式 */
.share-description {
    margin-top: 15px;
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 215, 0, 0.3);
    border-radius: 8px;
    text-align: center;
    backdrop-filter: blur(3px);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
    transition: all 0.3s ease;
}

.share-description p {
    margin: 0;
    color: #FFD700;
    font-size: 0.9rem;
    line-height: 1.4;
    opacity: 0.85;
    word-break: break-word;
}

.share-description:hover {
    border-color: rgba(255, 215, 0, 0.5);
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
}

.share-description:hover p {
    opacity: 1;
}

/* 移动设备响应式样式 */
@media (max-width: 480px) {
    .share-description {
        margin-top: 10px;
        padding: 10px 12px;
    }

    .share-description p {
        font-size: 0.8rem;
        line-height: 1.3;
    }
}

/* Styles for the content rendered into the share image */
.share-image-content {
    width: 500px;
    padding: 30px;
    background: linear-gradient(135deg, #f0e6d2 0%, #e6d9c2 100%);
    color: #3a2d22;
    font-family: 'SimSun', 'KaiTi', serif;
    border: 3px solid #c8a079;
    box-shadow: 0 0 20px rgba(0,0,0,0.15);
    position: relative;
    box-sizing: border-box;
    line-height: 1.6;
    border-radius: 15px;
}

.share-image-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h100v100H0z" fill="none"/><path d="M10 10h80v80H10z" fill="none" stroke="%23c8a079" stroke-width="0.5" stroke-opacity="0.3"/></svg>') repeat;
    opacity: 0.1;
    pointer-events: none;
    border-radius: 12px;
}

.share-image-content h1 {
    font-size: 2em;
    color: #8B4513;
    text-align: center;
    margin-top: 0;
    margin-bottom: 20px;
    border-bottom: 2px solid #d2b48c;
    padding-bottom: 15px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.share-image-content h3 {
    font-size: 1.4em;
    color: #A0522D;
    margin-top: 25px;
    margin-bottom: 10px;
    padding-left: 10px;
    border-left: 3px solid #d2b48c;
}

.share-image-content p {
    font-size: 1.1em;
    margin-bottom: 15px;
    text-align: justify;
    padding: 0 5px;
}

.share-image-content .share-luck-index {
    text-align: center;
    font-size: 1.3em;
    font-weight: bold;
    color: #DAA520;
    margin-bottom: 25px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.share-image-content .share-summary {
    font-size: 1.5em;
    font-style: italic;
    text-align: center;
    color: #8B4513;
    margin-top: 25px;
    padding: 15px;
    border-top: 2px dashed #d2b48c;
    border-bottom: 2px dashed #d2b48c;
    background: rgba(210, 180, 140, 0.1);
    border-radius: 8px;
}

.share-qr-wrapper {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 2px solid #d2b48c;
    display: flex;
    align-items: flex-end;
    justify-content: flex-end;
    gap: 15px;
}

.share-qr-image {
    width: 80px;
    height: 80px;
    border: 2px solid #8B4513;
    border-radius: 8px;
    padding: 5px;
    background: white;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.share-qr-info {
    font-size: 0.7em !important;
    color: #543A29 !important;
    margin: 0 !important;
    line-height: 1.3 !important;
    text-align: right;
    white-space: pre-line;
    flex-grow: 1;
}